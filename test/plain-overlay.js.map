{"version":3,"sources":["webpack:///webpack/bootstrap 4c9dbad0764424afabe0","webpack:///./~/anim-event/src/anim-event.js","webpack:///./~/cssprefix/src/css-prefix.js","webpack:///./src/face.html","webpack:///./src/face.html?e5b2","webpack:///./src/default.css","webpack:///./src/plain-overlay.js"],"names":["MSPF","KEEP_LOOP","requestAnim","window","requestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","msRequestAnimationFrame","callback","setTimeout","cancelAnim","cancelAnimationFrame","mozCancelAnimationFrame","webkitCancelAnimationFrame","msCancelAnimationFrame","requestID","clearTimeout","tasks","lastFrameTime","Date","now","step","called","next","call","forEach","task","event","listener","indexOfTasks","index","some","i","AnimEvent","add","push","remove","iRemove","splice","length","CSSPrefix","PREFIXES","PREFIXES_PROP","PREFIXES_VALUE","rePrefixesProp","rePrefixesValue","props","values","ucf","text","substr","toUpperCase","prefix","RegExp","join","normalizeProp","prop","reUc","replace","str","p1","test","toLowerCase","normalizeValue","value","getProp","elm","style","ucfProp","prefixed","setValue","res","valueArray","Array","isArray","trySet","APP_ID","STYLE_ELEMENT_ID","STYLE_CLASS","STYLE_CLASS_DOC","STYLE_CLASS_SHOW","STYLE_CLASS_HIDE","STYLE_CLASS_BODY","FACE_DEFS_ELEMENT_ID","STATE_HIDDEN","STATE_SHOWING","STATE_SHOWN","STATE_HIDING","DURATION","TOLERANCE","IS_TRIDENT","document","uniqueID","IS_EDGE","documentElement","navigator","msPointerEnabled","IS_WEBKIT","chrome","IS_BLINK","webstore","IS_GECKO","isObject","toString","fnToString","hasOwnProperty","objFnString","Object","proto","constr","obj","getPrototypeOf","constructor","isFinite","Number","insProps","insId","forceReflow","target","parent","parentNode","nextSibling","insertBefore","removeChild","setStyle","element","styleProps","savedStyleProps","propNames","keys","restoreStyle","getBBox","rect","getBoundingClientRect","bBox","left","top","right","bottom","width","height","pageXOffset","pageYOffset","scrollLeft","isDoc","scrollTo","scrollTop","resizeTarget","elmTargetBody","Math","abs","targetBodyCmpStyle","getComputedStyle","boxSizing","includeProps","PROP_NAMES","border","padding","reduce","dir","part","parseFloat","propName","savedStyleTargetBody","fixStyle","console","warn","getDocClientWH","elmTarget","clientWidth","clientHeight","wMode","writingMode","direction","restoreScroll","scrollElement","error","savedElementsScroll","elementScroll","restoreAccKeys","savedElementsAccKeys","elementAccKeys","tabIndex","removeAttribute","accessKey","avoidFocus","ownerDocument","body","elmOverlay","compareDocumentPosition","Node","DOCUMENT_POSITION_CONTAINED_BY","blur","focus","selectionContainsNode","selection","targetRange","createRange","iLen","rangeCount","selectNodeContents","range","getRangeAt","compareBoundaryPoints","Range","START_TO_END","END_TO_START","avoidSelect","getSelection","containsNode","removeAllRanges","barLeft","svgSpec","barTop","disableDocBars","targetBodyRect","clientWH","barV","barH","overflow","savedStyleTarget","propV","propH","addStyle","position","targetBodyBBox","overlayCmpStyle","overlayBBox","borders","offset","reValue","hBorder","vBorder","corner","split","h","v","matches","exec","getTargetElements","targetElements","prototype","slice","childNodes","childNode","nodeType","ELEMENT_NODE","classList","contains","getAttribute","indexOf","id","apply","querySelectorAll","finishShowing","state","options","onShow","ins","finishHiding","activeElement","onHide","show","getScroll","elements","fromDoc","elementCanScroll","cmpStyle","tagName","nodeName","overflowX","overflowY","elementsScroll","disableAccKeys","hasAttribute","onBeforeShow","display","disabledDocBars","offsetWidth","onPosition","hide","force","onBeforeHide","setOptions","newOptions","face","elmOverlayBody","firstChild","appendChild","elmDocument","getElementById","defsSvg","DOMParser","parseFromString","innerHTML","duration","option","scroll","dirLeft","curValue","find","found","PlainOverlay","getTarget","validElement","DOCUMENT_NODE","contentDocument","Error","defineProperty","_id","arguments","defaultView","head","getElementsByTagName","sheet","createElement","type","textContent","addEventListener","propertyName","log","preventDefault","stopImmediatePropagation","resizing","lastBBox","className"],"mappings":"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","file":"plain-overlay.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 5);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 4c9dbad0764424afabe0","/*\n * AnimEvent\n * https://github.com/anseki/anim-event\n *\n * Copyright (c) 2017 anseki\n * Licensed under the MIT license.\n */\n\n// *** Currently, this code except `export` is not ES2015. ***\n\nvar\n  MSPF = 1000 / 60, // ms/frame (FPS: 60)\n  KEEP_LOOP = 500,\n\n  requestAnim = window.requestAnimationFrame ||\n    window.mozRequestAnimationFrame ||\n    window.webkitRequestAnimationFrame ||\n    window.msRequestAnimationFrame ||\n    function(callback) { setTimeout(callback, MSPF); },\n  cancelAnim = window.cancelAnimationFrame ||\n    window.mozCancelAnimationFrame ||\n    window.webkitCancelAnimationFrame ||\n    window.msCancelAnimationFrame ||\n    function(requestID) { clearTimeout(requestID); },\n\n  /**\n   * @typedef {Object} task\n   * @property {Event} event\n   * @property {function} listener\n   */\n\n  /** @type {task[]} */\n  tasks = [],\n  requestID, lastFrameTime = Date.now();\n\nfunction step() {\n  var called, next;\n\n  if (requestID) {\n    cancelAnim.call(window, requestID);\n    requestID = null;\n  }\n\n  tasks.forEach(function(task) {\n    if (task.event) {\n      task.listener(task.event);\n      task.event = null;\n      called = true;\n    }\n  });\n\n  if (called) {\n    lastFrameTime = Date.now();\n    next = true;\n  } else if (Date.now() - lastFrameTime < KEEP_LOOP) { // Go on for a while\n    next = true;\n  }\n  if (next) { requestID = requestAnim.call(window, step); }\n}\n\nfunction indexOfTasks(listener) {\n  var index = -1;\n  tasks.some(function(task, i) {\n    if (task.listener === listener) {\n      index = i;\n      return true;\n    }\n    return false;\n  });\n  return index;\n}\n\nvar AnimEvent = {\n  /**\n   * @param {function} listener - An event listener.\n   * @returns {(function|null)} - A wrapped event listener.\n   */\n  add: function(listener) {\n    var task;\n    if (indexOfTasks(listener) === -1) {\n      tasks.push((task = {listener: listener}));\n      return function(event) {\n        task.event = event;\n        if (!requestID) { step(); }\n      };\n    } else {\n      return null;\n    }\n  },\n\n  remove: function(listener) {\n    var iRemove;\n    if ((iRemove = indexOfTasks(listener)) > -1) {\n      tasks.splice(iRemove, 1);\n      if (!tasks.length && requestID) {\n        cancelAnim.call(window, requestID);\n        requestID = null;\n      }\n    }\n  }\n};\n\nexport default AnimEvent;\n\n\n\n// WEBPACK FOOTER //\n// ./~/anim-event/src/anim-event.js","/*\n * CSSPrefix\n * https://github.com/anseki/css-prefix\n *\n * Copyright (c) 2017 anseki\n * Licensed under the MIT license.\n */\n\n// *** Currently, this code except `export` is not ES2015. ***\n\nvar CSSPrefix,\n  PREFIXES = ['webkit', 'ms', 'moz', 'o'],\n  PREFIXES_PROP = [], PREFIXES_VALUE = [],\n  rePrefixesProp, rePrefixesValue,\n  props = {}, values = {}; // cache\n\nfunction ucf(text) { return text.substr(0, 1).toUpperCase() + text.substr(1); }\n\nPREFIXES.forEach(function(prefix) {\n  PREFIXES_PROP.push(prefix);\n  PREFIXES_PROP.push(ucf(prefix));\n  PREFIXES_VALUE.push('-' + prefix + '-');\n});\n\nrePrefixesProp = new RegExp('^(?:' + PREFIXES.join('|') + ')(.)', 'i');\nfunction normalizeProp(prop) {\n  var reUc = /[A-Z]/;\n  // 'ms' and 'Ms' are found by rePrefixesProp. 'i' option\n  return (prop = prop.replace(/-([\\da-z])/gi, function(str, p1) { // camelCase\n    return p1.toUpperCase();\n  }).replace(rePrefixesProp, function(str, p1) {\n    return reUc.test(p1) ? p1.toLowerCase() : str;\n  })).toLowerCase() === 'float' ? 'cssFloat' : prop; // for old CSSOM\n}\n\nrePrefixesValue = new RegExp('^(?:' + PREFIXES_VALUE.join('|') + ')', 'i');\nfunction normalizeValue(value) {\n  return value.replace(rePrefixesValue, '');\n}\n\nfunction getProp(prop, elm) {\n  var style, ucfProp;\n  prop = normalizeProp(prop);\n  if (props[prop] == null) {\n    style = elm.style;\n\n    if (style[prop] != null) { // original\n      props[prop] = prop;\n    } else { // try with prefixes\n      ucfProp = ucf(prop);\n      if (!PREFIXES_PROP.some(function(prefix) {\n        var prefixed = prefix + ucfProp;\n        if (style[prefixed] != null) {\n          props[prop] = prefixed;\n          return true;\n        }\n        return false;\n      })) {\n        props[prop] = '';\n      }\n    }\n\n  }\n  return props[prop];\n}\n\nfunction setValue(elm, prop, value) {\n  var res, style = elm.style,\n    valueArray = Array.isArray(value) ? value : [value];\n\n  function trySet(prop, value) {\n    style[prop] = value;\n    return style[prop] === value;\n  }\n\n  if (!(prop = getProp(prop, elm))) { return ''; } // Invalid Property\n  values[prop] = values[prop] || {};\n  if (!valueArray.some(function(value) {\n    value = normalizeValue(value);\n    if (values[prop][value] == null) {\n\n      if (trySet(prop, value)) { // original\n        res = values[prop][value] = value;\n        return true;\n      } else if (PREFIXES_VALUE.some(function(prefix) { // try with prefixes\n        var prefixed = prefix + value;\n        if (trySet(prop, prefixed)) {\n          res = values[prop][value] = prefixed;\n          return true;\n        }\n        return false;\n      })) {\n        return true;\n      } else {\n        values[prop][value] = '';\n        return false; // continue to next value\n      }\n\n    } else if (values[prop][value]) {\n      style[prop] = res = values[prop][value];\n      return true;\n    }\n    return false;\n  })) {\n    res = '';\n  }\n  return res;\n}\n\nCSSPrefix = {\n  getProp: getProp,\n  setValue: setValue\n};\n\nexport default CSSPrefix;\n\n\n\n// WEBPACK FOOTER //\n// ./~/cssprefix/src/css-prefix.js","module.exports = \"<svg id=\\\"plainoverlay-builtin-face-defs\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" version=\\\"1.1\\\"><defs><linearGradient id=\\\"plainoverlay-builtin-face_01-grad\\\" gradientUnits=\\\"userSpaceOnUse\\\" x1=\\\"16\\\" y1=\\\"2\\\" x2=\\\"30\\\" y2=\\\"16\\\"><stop offset=\\\"0\\\" stop-color=\\\"#fff\\\" stop-opacity=\\\"0\\\"/><stop offset=\\\"0.2\\\" stop-color=\\\"#fff\\\" stop-opacity=\\\"0.1\\\"/><stop offset=\\\"1\\\" stop-color=\\\"#fff\\\" stop-opacity=\\\"1\\\"/></linearGradient><clipPath id=\\\"plainoverlay-builtin-face_01-clip\\\" clip-rule=\\\"evenodd\\\"><path d=\\\"M-4-4H36V36H-4V-4zM16 4a12 12 0 0 1 0 24 12 12 0 0 1 0-24z\\\"/></clipPath><g id=\\\"plainoverlay-builtin-face_01\\\"><circle cx=\\\"16\\\" cy=\\\"16\\\" r=\\\"16\\\" clip-path=\\\"url(#plainoverlay-builtin-face_01-clip)\\\"/><path d=\\\"M16 2a14 14 0 0 1 14 14\\\" stroke=\\\"url('#plainoverlay-builtin-face_01-grad')\\\"/></g></defs></svg>\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/face.html?part=defs\n// module id = 2\n// module chunks = 0","module.exports = \"<svg class=\\\"plainoverlay-builtin-face plainoverlay-builtin-face_01\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 32 32\\\"><use xlink:href=\\\"#plainoverlay-builtin-face_01\\\"/></svg>\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/face.html?part=face_01\n// module id = 3\n// module chunks = 0","module.exports = \".plainoverlay,.plainoverlay:not(.plainoverlay-hide) .plainoverlay-builtin-face_01{-webkit-tap-highlight-color:transparent;transform:translateZ(0);box-shadow:0 0 1px transparent}.plainoverlay{-moz-transition-property:opacity;-o-transition-property:opacity;-webkit-transition-property:opacity;transition-property:opacity;-moz-transition-duration:.2s;-o-transition-duration:.2s;-webkit-transition-duration:.2s;transition-duration:.2s;-moz-transition-timing-function:linear;-o-transition-timing-function:linear;-webkit-transition-timing-function:linear;transition-timing-function:linear;opacity:0;position:absolute;left:0;top:0;overflow:hidden;background-color:rgba(136,136,136,.6);cursor:wait;z-index:9000}.plainoverlay.plainoverlay-doc{position:fixed;left:-200px;top:-200px;overflow:visible;padding:200px;width:100vw;height:100vh}.plainoverlay-body{width:100%;height:100%;display:-webkit-flex;display:flex;-webkit-justify-content:center;justify-content:center;-webkit-align-items:center;align-items:center}.plainoverlay.plainoverlay-doc .plainoverlay-body{width:100vw;height:100vh}.plainoverlay-show{opacity:1}.plainoverlay-hide{display:none}.plainoverlay-builtin-face{width:90%;height:90%;max-width:320px;max-height:320px}#plainoverlay-builtin-face-defs{width:0;height:0;position:fixed;left:-100px;top:-100px}#plainoverlay-builtin-face_01 circle{fill:#fff;opacity:.25}#plainoverlay-builtin-face_01 path{fill:none;stroke-width:4px;stroke-linecap:round}.plainoverlay:not(.plainoverlay-hide) .plainoverlay-builtin-face_01{-moz-animation-name:plainoverlay-builtin-face_01-spin;-webkit-animation-name:plainoverlay-builtin-face_01-spin;animation-name:plainoverlay-builtin-face_01-spin;-moz-animation-duration:1s;-webkit-animation-duration:1s;animation-duration:1s;-moz-animation-timing-function:linear;-webkit-animation-timing-function:linear;animation-timing-function:linear;-moz-animation-iteration-count:infinite;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite}@-moz-keyframes plainoverlay-builtin-face_01-spin{from{-moz-transform:rotate(0);transform:rotate(0)}to{-moz-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes plainoverlay-builtin-face_01-spin{from{-webkit-transform:rotate(0);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes plainoverlay-builtin-face_01-spin{from{-moz-transform:rotate(0);-ms-transform:rotate(0);-webkit-transform:rotate(0);transform:rotate(0)}to{-moz-transform:rotate(360deg);-ms-transform:rotate(360deg);-webkit-transform:rotate(360deg);transform:rotate(360deg)}}\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/default.css\n// module id = 4\n// module chunks = 0","/*\n * PlainOverlay\n * https://github.com/anseki/plain-overlay\n *\n * Copyright (c) 2017 anseki\n * Licensed under the MIT license.\n */\n\nimport CSSPrefix from 'cssprefix';\nimport AnimEvent from 'anim-event';\nimport CSS_TEXT from './default.css';\nimport FACE_DEFS from './face.html?part=defs';\nimport FACE_01 from './face.html?part=face_01';\n\nconst\n  APP_ID = 'plainoverlay',\n  STYLE_ELEMENT_ID = `${APP_ID}-style`,\n  STYLE_CLASS = APP_ID,\n  STYLE_CLASS_DOC = `${APP_ID}-doc`,\n  STYLE_CLASS_SHOW = `${APP_ID}-show`,\n  STYLE_CLASS_HIDE = `${APP_ID}-hide`,\n  STYLE_CLASS_BODY = `${APP_ID}-body`,\n  FACE_DEFS_ELEMENT_ID = `${APP_ID}-builtin-face-defs`,\n\n  STATE_HIDDEN = 0, STATE_SHOWING = 1, STATE_SHOWN = 2, STATE_HIDING = 3,\n  // DURATION = 2500, // COPY: default.scss\n  DURATION = 200, // COPY: default.scss\n  TOLERANCE = 0.5,\n\n  IS_TRIDENT = !!document.uniqueID,\n  IS_EDGE = '-ms-scroll-limit' in document.documentElement.style &&\n    '-ms-ime-align' in document.documentElement.style && !window.navigator.msPointerEnabled,\n  IS_WEBKIT = !window.chrome && 'WebkitAppearance' in document.documentElement.style, // [DEBUG/]\n  IS_BLINK = !!(window.chrome && window.chrome.webstore), // [DEBUG/]\n  IS_GECKO = 'MozAppearance' in document.documentElement.style, // [DEBUG/]\n\n  isObject = (() => {\n    const toString = {}.toString, fnToString = {}.hasOwnProperty.toString,\n      objFnString = fnToString.call(Object);\n    return obj => {\n      let proto, constr;\n      return obj && toString.call(obj) === '[object Object]' &&\n        (!(proto = Object.getPrototypeOf(obj)) ||\n          (constr = proto.hasOwnProperty('constructor') && proto.constructor) &&\n          typeof constr === 'function' && fnToString.call(constr) === objFnString);\n    };\n  })(),\n  isFinite = Number.isFinite || (value => typeof value === 'number' && window.isFinite(value)),\n\n  /**\n   * An object that has properties of instance.\n   * @typedef {Object} props\n   * @property {Element} elmTarget - Target element.\n   * @property {Element} elmTargetBody - Target body element.\n   * @property {Element} elmOverlay - Overlay element.\n   * @property {Element} elmOverlayBody - Overlay body element.\n   * @property {boolean} isDoc - `true` if target is document.\n   * @property {Window} window - Window that conatins target element.\n   * @property {HTMLDocument} document - Document that conatins target element.\n   * @property {number} state - Current state.\n   * @property {Object} options - Options.\n   */\n\n  /** @type {Object.<_id: number, props>} */\n  insProps = {};\n\nlet insId = 0;\n\n// [DEBUG]\nwindow.insProps = insProps;\nwindow.IS_TRIDENT = IS_TRIDENT;\nwindow.IS_EDGE = IS_EDGE;\nwindow.IS_WEBKIT = IS_WEBKIT;\nwindow.IS_BLINK = IS_BLINK;\nwindow.IS_GECKO = IS_GECKO;\n// [/DEBUG]\n\nfunction forceReflow(target) {\n  // Trident and Blink bug (reflow like `offsetWidth` can't update)\n  setTimeout(() => {\n    const parent = target.parentNode, next = target.nextSibling;\n    // It has to be removed first for Blink.\n    parent.insertBefore(parent.removeChild(target), next);\n  }, 0);\n}\nwindow.forceReflow = forceReflow; // [DEBUG/]\n\n/**\n * Set style properties while saving current properties.\n * @param {Element} element - Target element.\n * @param {Object} styleProps - New style properties.\n * @param {(Object|null)} savedStyleProps - Current style properties holder.\n * @param {Array} [propNames] - Names of target properties.\n * @returns {Element} Target element itself.\n */\nfunction setStyle(element, styleProps, savedStyleProps, propNames) {\n  const style = element.style;\n  (propNames || Object.keys(styleProps)).forEach(prop => {\n    if (styleProps[prop] != null) {\n      if (savedStyleProps && savedStyleProps[prop] == null) {\n        savedStyleProps[prop] = style[prop];\n      }\n      style[prop] = styleProps[prop];\n      styleProps[prop] = null;\n    }\n  });\n  return element;\n}\n\n/**\n * Restore saved style properties.\n * @param {Element} element - Target element.\n * @param {Object} savedStyleProps - Saved style properties.\n * @param {Array} [propNames] - Names of properties that is restored.\n * @returns {Element} Target element itself.\n */\nfunction restoreStyle(element, savedStyleProps, propNames) {\n  return setStyle(element, savedStyleProps, null, propNames);\n}\n\n/**\n * An object that simulates `DOMRect` to indicate a bounding-box.\n * @typedef {Object} BBox\n * @property {(number|null)} left - document coordinate\n * @property {(number|null)} top - document coordinate\n * @property {(number|null)} right - document coordinate\n * @property {(number|null)} bottom - document coordinate\n * @property {(number|null)} width\n * @property {(number|null)} height\n */\n\n/**\n * Get an element's bounding-box that contains coordinates relative to the element's document or window.\n * @param {Element} element - Target element.\n * @param {Window} [window] - Whether it's relative to the element's window, or document.\n * @returns {(BBox|null)} - A bounding-box or null when failed.\n */\nfunction getBBox(element, window) {\n  const rect = element.getBoundingClientRect(),\n    bBox = {left: rect.left, top: rect.top,\n      right: rect.right, bottom: rect.bottom, width: rect.width, height: rect.height};\n  if (window) {\n    bBox.left += window.pageXOffset;\n    bBox.right += window.pageXOffset;\n    bBox.top += window.pageYOffset;\n    bBox.bottom += window.pageYOffset;\n  }\n  return bBox;\n}\nwindow.getBBox = getBBox; // [DEBUG/]\n\nfunction scrollLeft(element, isDoc, window, value) {\n  if (isDoc) {\n    const target = window;\n    if (value != null) { target.scrollTo(value, target.pageYOffset); }\n    return target.pageXOffset;\n  } else {\n    const target = element;\n    if (value != null) { target.scrollLeft = value; }\n    return target.scrollLeft;\n  }\n}\nwindow.scrollLeft = scrollLeft; // [DEBUG/]\n\nfunction scrollTop(element, isDoc, window, value) {\n  if (isDoc) {\n    const target = window;\n    if (value != null) { target.scrollTo(target.pageXOffset, value); }\n    return target.pageYOffset;\n  } else {\n    const target = element;\n    if (value != null) { target.scrollTop = value; }\n    return target.scrollTop;\n  }\n}\nwindow.scrollTop = scrollTop; // [DEBUG/]\n\nfunction resizeTarget(props, width, height) {\n  const elmTargetBody = props.elmTargetBody;\n\n  let rect = elmTargetBody.getBoundingClientRect();\n  if (Math.abs(rect.width - width) < TOLERANCE &&\n      Math.abs(rect.height - height) < TOLERANCE) { return; }\n\n  const targetBodyCmpStyle = props.window.getComputedStyle(elmTargetBody, ''),\n    boxSizing = targetBodyCmpStyle.boxSizing,\n    includeProps = boxSizing === 'border-box' ? [] :\n      boxSizing === 'padding-box' ? ['border'] : ['border', 'padding'], // content-box\n\n    PROP_NAMES = {\n      border: {\n        width: ['borderLeftWidth', 'borderRightWidth'],\n        height: ['borderTopWidth', 'borderBottomWidth']\n      },\n      padding: {\n        width: ['paddingLeft', 'paddingRight'],\n        height: ['paddingTop', 'paddingBottom']\n      }\n    },\n\n    values = ['width', 'height'].reduce((values, dir) => {\n      includeProps.forEach(part => {\n        PROP_NAMES[part][dir].forEach(propName => {\n          values[dir] -= parseFloat(targetBodyCmpStyle[propName]);\n        });\n      });\n      return values;\n    }, {width: width, height: height});\n\n  // Since the `width` and `height` might change each other, fix both.\n  setStyle(elmTargetBody, {\n    // The value might be negative number when size is too small.\n    width: values.width > 0 ? `${values.width}px` : 0,\n    height: values.height > 0 ? `${values.height}px` : 0\n  }, props.savedStyleTargetBody);\n\n  // In some browsers, getComputedStyle might return computed values that is not px instead of used values.\n  const fixStyle = {};\n  rect = elmTargetBody.getBoundingClientRect();\n  if (Math.abs(rect.width - width) >= TOLERANCE) {\n    // [DEBUG]\n    console.warn(`[resizeTarget] Incorrect width: ${rect.width}` +\n      ` (expected: ${width} passed: ${values.width})`);\n    // [/DEBUG]\n    fixStyle.width = `${values.width - (rect.width - width)}px`;\n  }\n  if (rect.height !== height) {\n    // [DEBUG]\n    console.warn(`[resizeTarget] Incorrect height: ${rect.height}` +\n      ` (expected: ${height} passed: ${values.height})`);\n    // [/DEBUG]\n    fixStyle.height = `${values.height - (rect.height - height)}px`;\n  }\n  setStyle(elmTargetBody, fixStyle, props.savedStyleTargetBody);\n}\nwindow.resizeTarget = resizeTarget; // [DEBUG/]\n\n// Trident and Edge bug, width and height are interchanged.\nfunction getDocClientWH(props) {\n  const elmTarget = props.elmTarget,\n    width = elmTarget.clientWidth, height = elmTarget.clientHeight;\n  if (IS_TRIDENT || IS_EDGE) {\n    const targetBodyCmpStyle = props.window.getComputedStyle(props.elmTargetBody, ''),\n      wMode = targetBodyCmpStyle.writingMode || targetBodyCmpStyle['writing-mode'], // Trident bug\n      direction = targetBodyCmpStyle.direction;\n    return wMode === 'tb-rl' || wMode === 'bt-rl' || wMode === 'tb-lr' || wMode === 'bt-lr' ||\n        IS_EDGE && (\n          direction === 'ltr' && (wMode === 'vertical-rl' || wMode === 'vertical-lr') ||\n          direction === 'rtl' && (wMode === 'vertical-rl' || wMode === 'vertical-lr')) ?\n      {width: height, height: width} : // interchange\n      {width: width, height: height};\n  } else {\n    return {width: width, height: height};\n  }\n}\nwindow.getDocClientWH = getDocClientWH; // [DEBUG/]\n\nfunction restoreScroll(props, element) {\n\n  function scrollElement(element, isDoc, left, top) {\n    try {\n      scrollLeft(element, isDoc, props.window, left);\n      scrollTop(element, isDoc, props.window, top);\n    } catch (error) { /* Something might have been changed, and that can be ignored. */ }\n  }\n\n  if (element) {\n    return props.savedElementsScroll.some(elementScroll => {\n      if (elementScroll.element === element) {\n        scrollElement(elementScroll.element, elementScroll.isDoc, elementScroll.left, elementScroll.top);\n        return true;\n      }\n      return false;\n    });\n  } else {\n    props.savedElementsScroll.forEach(elementScroll => {\n      scrollElement(elementScroll.element, elementScroll.isDoc, elementScroll.left, elementScroll.top);\n    });\n    return true;\n  }\n}\n\nfunction restoreAccKeys(props) {\n  props.savedElementsAccKeys.forEach(elementAccKeys => {\n    try {\n      if (elementAccKeys.tabIndex === false) {\n        elementAccKeys.element.removeAttribute('tabindex');\n      } else if (elementAccKeys.tabIndex != null) {\n        elementAccKeys.element.tabIndex = elementAccKeys.tabIndex;\n      }\n    } catch (error) { /* Something might have been changed, and that can be ignored. */ }\n\n    try {\n      if (elementAccKeys.accessKey) {\n        elementAccKeys.element.accessKey = elementAccKeys.accessKey;\n      }\n    } catch (error) { /* Something might have been changed, and that can be ignored. */ }\n  });\n}\nwindow.restoreAccKeys = restoreAccKeys; // [DEBUG/]\n\nfunction avoidFocus(props, element) {\n  if (props.isDoc && element !== element.ownerDocument.body &&\n        !(props.elmOverlay.compareDocumentPosition(element) & Node.DOCUMENT_POSITION_CONTAINED_BY) ||\n      !props.isDoc && (element === props.elmTargetBody ||\n        props.elmTargetBody.compareDocumentPosition(element) & Node.DOCUMENT_POSITION_CONTAINED_BY)) {\n    if (element.blur) { // Trident and Edge don't support SVG#blur\n      element.blur();\n    } else {\n      element.ownerDocument.body.focus();\n    }\n    return true;\n  }\n  return false;\n}\n\n// Selection.containsNode polyfill for Trident\nfunction selectionContainsNode(props, selection) {\n  const targetRange = props.document.createRange(),\n    iLen = selection.rangeCount;\n  targetRange.selectNodeContents(props.elmTargetBody);\n  for (let i = 0; i < iLen; i++) {\n    const range = selection.getRangeAt(i);\n    if (range.compareBoundaryPoints(Range.START_TO_END, targetRange) >= 0 &&\n        range.compareBoundaryPoints(Range.END_TO_START, targetRange) <= 0) {\n      return true;\n    }\n  }\n  return false;\n}\nwindow.selectionContainsNode = selectionContainsNode; // [DEBUG/]\n\nfunction avoidSelect(props) {\n  const selection = ('getSelection' in window ? props.window : props.document).getSelection();\n  if (selection.rangeCount && (props.isDoc ||\n      (selection.containsNode ?\n        selection.containsNode(props.elmTargetBody, true) : selectionContainsNode(props, selection))\n      )) {\n    selection.removeAllRanges();\n    props.document.body.focus();\n    return true;\n  }\n  return false;\n}\n\nfunction barLeft(wMode, direction) {\n  const svgSpec = wMode === 'rl-tb' || wMode === 'tb-rl' || wMode === 'bt-rl' || wMode === 'rl-bt';\n  return IS_TRIDENT && svgSpec ||\n    IS_EDGE && (svgSpec ||\n      direction === 'rtl' && (wMode === 'horizontal-tb' || wMode === 'vertical-rl') ||\n      direction === 'ltr' && wMode === 'vertical-rl');\n}\nwindow.barLeft = barLeft; // [DEBUG/]\n\nfunction barTop(wMode, direction) {\n  const svgSpec = wMode === 'bt-rl' || wMode === 'bt-lr' || wMode === 'lr-bt' || wMode === 'rl-bt';\n  return IS_TRIDENT && svgSpec ||\n    IS_EDGE && (svgSpec ||\n      direction === 'rtl' && (wMode === 'vertical-lr' || wMode === 'vertical-rl'));\n}\nwindow.barTop = barTop; // [DEBUG/]\n\nfunction disableDocBars(props) {\n  const elmTarget = props.elmTarget, elmTargetBody = props.elmTargetBody,\n    targetBodyRect = elmTargetBody.getBoundingClientRect();\n\n  // Get size of each scrollbar.\n  let clientWH = getDocClientWH(props),\n    barV = -clientWH.width, barH = -clientWH.height; // elmTarget.clientWidth/clientHeight\n  setStyle(elmTarget, {overflow: 'hidden'}, props.savedStyleTarget);\n  clientWH = getDocClientWH(props);\n  barV += clientWH.width;\n  barH += clientWH.height;\n\n  if (barV || barH) {\n    const targetBodyCmpStyle = props.window.getComputedStyle(elmTargetBody, '');\n    let propV, propH;\n    // There is no way to get absolute position of document.\n    // We need distance between the document and its window, or a method like `element.screenX`\n    // that gets absolute position of an element.\n    // For the moment, Trident and Edge make a scrollbar at the left/top side when RTL document\n    // or CJK vertical document is rendered.\n    if (IS_TRIDENT || IS_EDGE) {\n      const wMode = targetBodyCmpStyle.writingMode || targetBodyCmpStyle['writing-mode'], // Trident bug\n        direction = targetBodyCmpStyle.direction;\n      if (barV) { propV = barLeft(wMode, direction) ? 'marginLeft' : 'marginRight'; }\n      if (barH) { propH = barTop(wMode, direction) ? 'marginTop' : 'marginBottom'; }\n    } else {\n      if (barV) { propV = 'marginRight'; }\n      if (barH) { propH = 'marginBottom'; }\n    }\n\n    const addStyle = {};\n    if (barV) { addStyle[propV] = `${parseFloat(targetBodyCmpStyle[propV]) + barV}px`; }\n    if (barH) { addStyle[propH] = `${parseFloat(targetBodyCmpStyle[propH]) + barH}px`; }\n    setStyle(elmTargetBody, addStyle, props.savedStyleTargetBody);\n    resizeTarget(props, targetBodyRect.width, targetBodyRect.height);\n\n    // `overflow: 'hidden'` might change scroll.\n    restoreScroll(props, elmTarget);\n    return true;\n  } else {\n    restoreStyle(elmTarget, props.savedStyleTarget, ['overflow']);\n    return false;\n  }\n}\nwindow.disableDocBars = disableDocBars; // [DEBUG/]\n\nfunction position(props, targetBodyBBox) {\n  const elmTargetBody = props.elmTargetBody,\n    targetBodyCmpStyle = props.window.getComputedStyle(elmTargetBody, ''),\n\n    elmOverlay = props.elmOverlay,\n    overlayCmpStyle = props.window.getComputedStyle(elmOverlay, ''),\n    overlayBBox = getBBox(elmOverlay, props.window),\n\n    borders = ['Top', 'Right', 'Bottom', 'Left'].reduce((borders, prop) => {\n      borders[prop.toLowerCase()] = parseFloat(targetBodyCmpStyle[`border${prop}Width`]);\n      return borders;\n    }, {}),\n\n    // Get distance between document and origin of `elmOverlay`.\n    offset = {left: overlayBBox.left - parseFloat(overlayCmpStyle.left),\n      top: overlayBBox.top - parseFloat(overlayCmpStyle.top)},\n\n    style = {\n      left: `${targetBodyBBox.left - offset.left + borders.left}px`,\n      top: `${targetBodyBBox.top - offset.top + borders.top}px`,\n      width: `${targetBodyBBox.width - borders.left - borders.right}px`,\n      height: `${targetBodyBBox.height - borders.top - borders.bottom}px`\n    },\n    reValue = /^([\\d\\.]+)(px|%)$/;\n\n  // border-radius\n  [\n    {prop: 'TopLeft', hBorder: 'left', vBorder: 'top'},\n    {prop: 'TopRight', hBorder: 'right', vBorder: 'top'},\n    {prop: 'BottomRight', hBorder: 'right', vBorder: 'bottom'},\n    {prop: 'BottomLeft', hBorder: 'left', vBorder: 'bottom'}\n  ].forEach(corner => {\n    const prop = CSSPrefix.getProp(`border${corner.prop}Radius`, elmTargetBody),\n      values = targetBodyCmpStyle[prop].split(' ');\n    let h = values[0], v = values[1] || values[0],\n      matches = reValue.exec(h);\n    h = !matches ? 0 :\n      matches[2] === 'px' ? +matches[1] :\n      matches[1] * targetBodyBBox.width / 100;\n    matches = reValue.exec(v);\n    v = !matches ? 0 :\n      matches[2] === 'px' ? +matches[1] :\n      matches[1] * targetBodyBBox.height / 100;\n\n    h -= borders[corner.hBorder];\n    v -= borders[corner.vBorder];\n    if (h > 0 && v > 0) {\n      style[prop] = `${h}px ${v}px`;\n    }\n  });\n\n  setStyle(elmOverlay, style);\n  props.targetBodyBBox = targetBodyBBox;\n}\nwindow.position = position; // [DEBUG/]\n\nfunction getTargetElements(props) {\n  const elmTargetBody = props.elmTargetBody,\n    elmOverlay = props.elmOverlay,\n    targetElements = [props.elmTarget];\n  if (props.isDoc) {\n    targetElements.push(elmTargetBody);\n    Array.prototype.slice.call(elmTargetBody.childNodes).forEach(childNode => {\n      if (childNode.nodeType === Node.ELEMENT_NODE &&\n          childNode !== elmOverlay &&\n          // Trident doesn't support SVG#classList\n          (childNode.classList ? !childNode.classList.contains(STYLE_CLASS) :\n            (childNode.getAttribute('class') || '').split(/\\s/).indexOf(STYLE_CLASS) === -1) &&\n          childNode.id !== FACE_DEFS_ELEMENT_ID) {\n        targetElements.push(childNode);\n        Array.prototype.push.apply(targetElements, childNode.querySelectorAll('*'));\n      }\n    });\n  } else {\n    Array.prototype.push.apply(targetElements, elmTargetBody.querySelectorAll('*'));\n  }\n  return targetElements;\n}\n\nfunction finishShowing(props) {\n  props.state = STATE_SHOWN;\n  if (props.options.onShow) { props.options.onShow.call(props.ins); }\n}\n\nfunction finishHiding(props) {\n  props.elmOverlay.classList.add(STYLE_CLASS_HIDE);\n\n  restoreStyle(props.elmTarget, props.savedStyleTarget);\n  restoreStyle(props.elmTargetBody, props.savedStyleTargetBody);\n  props.savedStyleTarget = {};\n  props.savedStyleTargetBody = {};\n\n  restoreAccKeys(props);\n  props.savedElementsAccKeys = null;\n\n  // props.state must be STATE_HIDDEN for below\n  props.state = STATE_HIDDEN;\n\n  if (props.isDoc && props.activeElement) { props.activeElement.focus(); }\n  props.activeElement = null;\n\n  setTimeout(function() {\n    restoreScroll(props); // Since `focus()` might scroll, do this after `focus()`.\n    props.savedElementsScroll = null;\n\n    if (props.options.onHide) { props.options.onHide.call(props.ins); }\n  }, 0);\n}\n\n/**\n * @param {props} props - `props` of instance.\n * @returns {void}\n */\nfunction show(props) {\n\n  function getScroll(elements, fromDoc) {\n\n    function elementCanScroll(element, isDoc) {\n      const cmpStyle = props.window.getComputedStyle(element, ''),\n        tagName = element.nodeName.toLowerCase();\n      return (cmpStyle.overflow === 'scroll' || cmpStyle.overflow === 'auto' ||\n          cmpStyle.overflowX === 'scroll' || cmpStyle.overflowX === 'auto' ||\n          cmpStyle.overflowY === 'scroll' || cmpStyle.overflowY === 'auto') ||\n        // document with `visible` might make scrollbars.\n        isDoc && (cmpStyle.overflow === 'visible' ||\n          cmpStyle.overflowX === 'visible' || cmpStyle.overflowY === 'visible') ||\n        // `overflow` of these differs depending on browser.\n        !isDoc && (tagName === 'textarea' || tagName === 'select');\n    }\n\n    const elementsScroll = [];\n    elements.forEach((element, i) => {\n      const isDoc = fromDoc && i === 0;\n      if (elementCanScroll(element, isDoc)) {\n        elementsScroll.push({\n          element: element,\n          isDoc: isDoc,\n          left: scrollLeft(element, isDoc, props.window),\n          top: scrollTop(element, isDoc, props.window)\n        });\n      }\n    });\n    return elementsScroll;\n  }\n\n  function disableAccKeys(elements, fromDoc) {\n    const savedElementsAccKeys = [];\n    elements.forEach((element, i) => {\n      if (fromDoc && i === 0) { return; }\n\n      const elementAccKeys = {},\n        tabIndex = element.tabIndex;\n      // In Trident and Edge, `tabIndex` of all elements are `0` or something even if the element is not focusable.\n      if (tabIndex !== -1) {\n        elementAccKeys.element = element;\n        elementAccKeys.tabIndex = element.hasAttribute('tabindex') ? tabIndex : false;\n        element.tabIndex = -1;\n      }\n\n      const accessKey = element.accessKey;\n      if (accessKey) {\n        elementAccKeys.element = element;\n        elementAccKeys.accessKey = accessKey;\n        element.accessKey = '';\n      }\n\n      if (elementAccKeys.element) {\n        savedElementsAccKeys.push(elementAccKeys);\n      }\n    });\n    return savedElementsAccKeys;\n  }\n\n  if (props.state === STATE_SHOWING || props.state === STATE_SHOWN) { return; }\n  if (props.options.onBeforeShow && props.options.onBeforeShow.call(props.ins) === false) { return; }\n\n  const elmOverlay = props.elmOverlay;\n  if (props.state === STATE_HIDDEN) {\n    const targetElements = getTargetElements(props);\n    window.targetElements = targetElements; // [DEBUG/]\n\n    elmOverlay.classList.remove(STYLE_CLASS_HIDE); // Before `getBoundingClientRect` (`position`).\n    if (!props.isDoc) {\n      const elmTargetBody = props.elmTargetBody;\n      if (props.window.getComputedStyle(elmTargetBody, '').display === 'inline') {\n        setStyle(elmTargetBody, {display: 'inline-block'}, props.savedStyleTargetBody);\n      }\n      position(props, getBBox(elmTargetBody, props.window));\n    }\n\n    props.savedElementsScroll = getScroll(targetElements, props.isDoc);\n    props.disabledDocBars = false;\n    // savedElementsScroll is empty when document is disconnected.\n    if (props.isDoc && props.savedElementsScroll.length && props.savedElementsScroll[0].isDoc) {\n      props.disabledDocBars = disableDocBars(props);\n    }\n    props.savedElementsAccKeys = disableAccKeys(targetElements, props.isDoc);\n    props.activeElement = props.document.activeElement;\n    if (props.activeElement) { avoidFocus(props, props.activeElement); }\n    avoidSelect(props);\n    elmOverlay.offsetWidth; /* force reflow */ // eslint-disable-line no-unused-expressions\n\n    if (props.options.onPosition) { props.options.onPosition.call(props.ins); }\n  }\n  elmOverlay.classList.add(STYLE_CLASS_SHOW);\n  props.state = STATE_SHOWING;\n}\n\n/**\n * @param {props} props - `props` of instance.\n * @param {boolean} [force] - Skip effect.\n * @returns {void}\n */\nfunction hide(props, force) {\n  if (props.state === STATE_HIDDEN) { return; }\n  if (props.options.onBeforeHide && props.options.onBeforeHide.call(props.ins) === false) { return; }\n\n  props.elmOverlay.classList.remove(STYLE_CLASS_SHOW);\n  if (force) {\n    props.state = STATE_HIDDEN; // To skip transitionend.\n    finishHiding(props);\n  } else {\n    props.state = STATE_HIDING;\n  }\n}\n\n/**\n * @param {props} props - `props` of instance.\n * @param {Object} newOptions - New options.\n * @returns {void}\n */\nfunction setOptions(props, newOptions) {\n  const options = props.options;\n\n  // face\n  if ((newOptions.face == null ? void 0 : newOptions.face) !== options.face) {\n    const elmOverlayBody = props.elmOverlayBody;\n    // Clear\n    while (elmOverlayBody.firstChild) { elmOverlayBody.removeChild(elmOverlayBody.firstChild); }\n    if (newOptions.face === false) { // No face\n      options.face = false;\n    } else if (newOptions.face && newOptions.face.nodeType === Node.ELEMENT_NODE) { // Specific face\n      options.face = newOptions.face;\n      elmOverlayBody.appendChild(newOptions.face);\n    } else { // Builtin face\n      const elmDocument = props.document;\n      if (!elmDocument.getElementById(FACE_DEFS_ELEMENT_ID)) { // Add svg defs\n        const defsSvg = (new props.window.DOMParser()).parseFromString(FACE_DEFS, 'image/svg+xml');\n        elmDocument.body.appendChild(defsSvg.documentElement);\n      }\n      options.face = void 0;\n      elmOverlayBody.innerHTML = FACE_01;\n    }\n  }\n\n  // duration\n  if (isFinite(newOptions.duration) && newOptions.duration !== options.duration) {\n    const elmOverlay = props.elmOverlay;\n    options.duration = newOptions.duration;\n    elmOverlay.style[CSSPrefix.getProp('transitionDuration', elmOverlay)] =\n      newOptions.duration === DURATION ? '' : `${newOptions.duration}ms`;\n  }\n\n  // style\n  if (isObject(newOptions.style)) {\n    setStyle(props.elmOverlay, newOptions.style);\n  }\n\n  // Event listeners\n  ['onShow', 'onHide', 'onBeforeShow', 'onBeforeHide', 'onPosition'].forEach(option => {\n    if (typeof newOptions[option] === 'function') {\n      options[option] = newOptions[option];\n    }\n  });\n}\n\nfunction scroll(props, target, dirLeft, value) {\n  let isDoc, curValue;\n\n  if (target) {\n    const targetElements = getTargetElements(props);\n    if (targetElements.indexOf(target) === -1) { return curValue; } // return undefined\n    isDoc = target.nodeName.toLowerCase() === 'html';\n  } else {\n    target = props.elmTarget;\n    isDoc = props.isDoc;\n  }\n\n  const elementScroll = value != null && props.savedElementsScroll &&\n    (props.savedElementsScroll.find ?\n      props.savedElementsScroll.find(elementScroll => elementScroll.element === target) :\n      (elementsScroll => {\n        let found;\n        elementsScroll.some(elementScroll => {\n          if (elementScroll.element === target) {\n            found = elementScroll;\n            return true;\n          }\n          return false;\n        });\n        return found;\n      })(props.savedElementsScroll));\n\n  curValue = (dirLeft ? scrollLeft : scrollTop)(target, isDoc, props.window, value);\n  if (elementScroll) { elementScroll[dirLeft ? 'left' : 'top'] = curValue; }\n  return curValue;\n}\n\nclass PlainOverlay {\n  /**\n   * Create a `PlainOverlay` instance.\n   * @param {Element} [target] - Target element.\n   * @param {Object} [options] - Options.\n   */\n  constructor(target, options) {\n\n    /**\n     * @param {Object} [target] - Element or something that is checked.\n     * @returns {(Element|null)} - Valid element or null.\n     */\n    function getTarget(target) {\n      let validElement;\n      if (!target) {\n        validElement = document.documentElement; // documentElement of current document\n      } else if (target.nodeType) {\n        if (target.nodeType === Node.DOCUMENT_NODE) {\n          validElement = target.documentElement; // documentElement of target document\n        } else if (target.nodeType === Node.ELEMENT_NODE) {\n          const nodeName = target.nodeName.toLowerCase();\n          validElement =\n            nodeName === 'body' ? target.ownerDocument.documentElement : // documentElement of target body\n            nodeName === 'iframe' || nodeName === 'frame' ?\n              target.contentDocument.documentElement : // documentElement of target frame\n            target;\n        }\n        if (!validElement) { throw new Error('This element is not accepted.'); }\n      } else if (target === target.window) {\n        validElement = target.document.documentElement; // documentElement of target window\n      }\n      return validElement;\n    }\n\n    const props = {\n      ins: this,\n      options: { // Initial options (not default)\n        face: '',\n        duration: DURATION\n      },\n      state: STATE_HIDDEN,\n      savedStyleTarget: {},\n      savedStyleTargetBody: {}\n    };\n\n    Object.defineProperty(this, '_id', {value: ++insId});\n    props._id = this._id;\n    insProps[this._id] = props;\n\n    if (arguments.length === 1) {\n      if (!(props.elmTarget = getTarget(target))) {\n        if (!isObject(target)) { throw new Error('Invalid argument.'); }\n        props.elmTarget = document.documentElement; // documentElement of current document\n        options = target;\n      }\n    } else {\n      if (!(props.elmTarget = getTarget(target))) { throw new Error('This target is not accepted.'); }\n      if (options && !isObject(options)) { throw new Error('Invalid options.'); }\n    }\n    props.isDoc = props.elmTarget.nodeName.toLowerCase() === 'html';\n    const elmDocument = props.document = props.elmTarget.ownerDocument;\n    props.window = elmDocument.defaultView;\n    const elmTargetBody = props.elmTargetBody = props.isDoc ? elmDocument.body : props.elmTarget;\n\n    // Setup window\n    if (!elmDocument.getElementById(STYLE_ELEMENT_ID)) {\n      const head = elmDocument.getElementsByTagName('head')[0] || elmDocument.documentElement,\n        sheet = head.insertBefore(elmDocument.createElement('style'), head.firstChild);\n      sheet.type = 'text/css';\n      sheet.id = STYLE_ELEMENT_ID;\n      sheet.textContent = CSS_TEXT;\n      if (IS_TRIDENT || IS_EDGE) { forceReflow(sheet); } // Trident bug\n    }\n\n    // elmOverlay\n    const elmOverlay = props.elmOverlay = elmDocument.createElement('div');\n    if (IS_TRIDENT) {\n      // Trident bug, multiple arguments and space-separated tokens are ignored.\n      elmOverlay.classList.add(STYLE_CLASS);\n      elmOverlay.classList.add(STYLE_CLASS_HIDE);\n    } else {\n      elmOverlay.classList.add(STYLE_CLASS, STYLE_CLASS_HIDE);\n    }\n    if (props.isDoc) { elmOverlay.classList.add(STYLE_CLASS_DOC); }\n\n    (listener => {\n      ['transitionend', 'webkitTransitionEnd', 'oTransitionEnd', 'otransitionend'].forEach(type => {\n        elmOverlay.addEventListener(type, listener, true);\n      });\n    })(event => {\n      if (event.target === elmOverlay && event.propertyName === 'opacity') {\n        if (props.state === STATE_SHOWING) {\n          finishShowing(props);\n        } else if (props.state === STATE_HIDING) {\n          finishHiding(props);\n        }\n      }\n    });\n\n    (props.isDoc ? props.window : elmTargetBody).addEventListener('scroll', event => {\n      const target = event.target;\n      if (props.state !== STATE_HIDDEN &&\n          restoreScroll(props,\n            props.isDoc &&\n                (target === props.window || target === props.document || target === props.elmTargetBody) ?\n              props.elmTarget : target)) {\n        console.log('avoidScroll'); // [DEBUG/]\n        event.preventDefault();\n        event.stopImmediatePropagation();\n      }\n    }, true);\n\n    elmTargetBody.addEventListener('focus', event => {\n      if (props.state !== STATE_HIDDEN && avoidFocus(props, event.target)) {\n        console.log('avoidFocus'); // [DEBUG/]\n        event.preventDefault();\n        event.stopImmediatePropagation();\n      }\n    }, true);\n\n    (listener => { // simulation \"text-select\" event\n      ['keyup', 'mouseup'].forEach(type => {\n        elmTargetBody.addEventListener(type, listener, true);\n      });\n    })(event => {\n      if (props.state !== STATE_HIDDEN && avoidSelect(props)) {\n        console.log('avoidSelect'); // [DEBUG/]\n        event.preventDefault();\n        event.stopImmediatePropagation();\n      }\n    });\n\n    // Gecko bug, multiple calling (parallel) by `requestAnimationFrame`.\n    props.resizing = false;\n    props.window.addEventListener('resize', AnimEvent.add(() => {\n      if (props.resizing) {\n        console.log('`resize` event listener is already running.'); // [DEBUG/]\n        return;\n      }\n      props.resizing = true;\n      if (props.state !== STATE_HIDDEN) {\n        if (props.isDoc) {\n          if (props.savedElementsScroll.length && props.savedElementsScroll[0].isDoc) {\n            if (props.disabledDocBars) { // Restore DocBars\n              console.log('Restore DocBars'); // [DEBUG/]\n              restoreStyle(props.elmTarget, props.savedStyleTarget, ['overflow']);\n              restoreStyle(elmTargetBody, props.savedStyleTargetBody,\n                ['marginLeft', 'marginRight', 'marginTop', 'marginBottom', 'width', 'height']);\n            }\n            console.log('disableDocBars'); // [DEBUG/]\n            props.disabledDocBars = disableDocBars(props);\n          }\n        } else {\n          const bBox = getBBox(elmTargetBody, props.window),\n            lastBBox = props.targetBodyBBox;\n          if (bBox.left !== lastBBox.left || bBox.top !== lastBBox.top ||\n              bBox.width !== lastBBox.width || bBox.height !== lastBBox.height) {\n            console.log('Update position'); // [DEBUG/]\n            position(props, bBox);\n          }\n        }\n        if (props.options.onPosition) { props.options.onPosition.call(props.ins); }\n      }\n      props.resizing = false;\n    }), true);\n\n    // Avoid scroll on touch device\n    elmOverlay.addEventListener('touchmove', event => {\n      if (props.state !== STATE_HIDDEN) {\n        event.preventDefault();\n        event.stopImmediatePropagation();\n      }\n    }, true);\n\n    // elmOverlayBody\n    (props.elmOverlayBody = elmOverlay.appendChild(elmDocument.createElement('div')))\n      .className = STYLE_CLASS_BODY;\n\n    elmDocument.body.appendChild(elmOverlay);\n    setOptions(props, options || {});\n  }\n\n  /**\n   * @param {Object} options - New options.\n   * @returns {PlainOverlay} Current instance itself.\n   */\n  setOptions(options) {\n    if (isObject(options)) {\n      setOptions(insProps[this._id], options);\n    }\n    return this;\n  }\n\n  /**\n   * Show the overlay.\n   * @param {Object} [options] - New options.\n   * @returns {PlainOverlay} Current instance itself.\n   */\n  show(options) {\n    this.setOptions(options);\n    show(insProps[this._id]);\n    return this;\n  }\n\n  /**\n   * Hide the overlay.\n   * @param {boolean} [force] - Hide it immediately without effect.\n   * @returns {PlainOverlay} Current instance itself.\n   */\n  hide(force) {\n    hide(insProps[this._id], force);\n    return this;\n  }\n\n  scrollLeft(value, target) {\n    return scroll(insProps[this._id], target, true, value);\n  }\n\n  scrollTop(value, target) {\n    return scroll(insProps[this._id], target, false, value);\n  }\n\n  position() {\n    const props = insProps[this._id];\n    if (props.state !== STATE_HIDDEN) {\n      if (!props.isDoc) { position(props, getBBox(props.elmTargetBody, props.window)); }\n      if (props.options.onPosition) { props.options.onPosition.call(props.ins); }\n    }\n    return this;\n  }\n\n  get face() {\n    return insProps[this._id].options.face;\n  }\n  set face(value) {\n    setOptions(insProps[this._id], {face: value});\n  }\n\n  get duration() {\n    return insProps[this._id].options.duration;\n  }\n  set duration(value) {\n    setOptions(insProps[this._id], {duration: value});\n  }\n\n  get onShow() {\n    return insProps[this._id].options.onShow;\n  }\n  set onShow(value) {\n    setOptions(insProps[this._id], {onShow: value});\n  }\n\n  get onHide() {\n    return insProps[this._id].options.onHide;\n  }\n  set onHide(value) {\n    setOptions(insProps[this._id], {onHide: value});\n  }\n\n  get onBeforeShow() {\n    return insProps[this._id].options.onBeforeShow;\n  }\n  set onBeforeShow(value) {\n    setOptions(insProps[this._id], {onBeforeShow: value});\n  }\n\n  get onBeforeHide() {\n    return insProps[this._id].options.onBeforeHide;\n  }\n  set onBeforeHide(value) {\n    setOptions(insProps[this._id], {onBeforeHide: value});\n  }\n\n  get onPosition() {\n    return insProps[this._id].options.onPosition;\n  }\n  set onPosition(value) {\n    setOptions(insProps[this._id], {onPosition: value});\n  }\n\n  get state() {\n    return insProps[this._id].state;\n  }\n\n  get style() {\n    return insProps[this._id].elmOverlay.style;\n  }\n\n  static show(target, options) {\n    return (new PlainOverlay(target, options)).show();\n  }\n\n  static get STATE_HIDDEN() { return STATE_HIDDEN; }\n  static get STATE_SHOWING() { return STATE_SHOWING; }\n  static get STATE_SHOWN() { return STATE_SHOWN; }\n  static get STATE_HIDING() { return STATE_HIDING; }\n}\n\nexport default PlainOverlay;\n\n\n\n// WEBPACK FOOTER //\n// ./src/plain-overlay.js"],"sourceRoot":""}