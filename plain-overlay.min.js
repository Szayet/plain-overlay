/*! PlainOverlay v0.0.3 (c) anseki http://anseki.github.io/plain-overlay/ */
var PlainOverlay=function(t){function e(i){if(n[i])return n[i].exports;var o=n[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=5)}([function(t,e,n){"use strict";function i(){var t,e;r&&(s.call(window,r),r=null),c.forEach(function(e){e.event&&(e.listener(e.event),e.event=null,t=!0)}),t?(u=Date.now(),e=!0):Date.now()-u<l&&(e=!0),e&&(r=d.call(window,i))}function o(t){var e=-1;return c.some(function(n,i){return n.listener===t&&(e=i,!0)}),e}Object.defineProperty(e,"__esModule",{value:!0});var r,a=1e3/60,l=500,d=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||function(t){setTimeout(t,a)},s=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||function(t){clearTimeout(t)},c=[],u=Date.now(),f={add:function(t){var e;return o(t)===-1?(c.push(e={listener:t}),function(t){e.event=t,r||i()}):null},remove:function(t){var e;(e=o(t))>-1&&(c.splice(e,1),!c.length&&r&&(s.call(window,r),r=null))}};e.default=f,t.exports=e.default},function(t,e,n){"use strict";function i(t){return t.substr(0,1).toUpperCase()+t.substr(1)}function o(t){var e=/[A-Z]/;return"float"===(t=t.replace(/-([\da-z])/gi,function(t,e){return e.toUpperCase()}).replace(s,function(t,n){return e.test(n)?n.toLowerCase():t})).toLowerCase()?"cssFloat":t}function r(t){return t.replace(c,"")}function a(t,e){var n,r;return t=o(t),null==p[t]&&(n=e.style,null!=n[t]?p[t]=t:(r=i(t),f.some(function(e){var i=e+r;return null!=n[i]&&(p[t]=i,!0)})||(p[t]=""))),p[t]}function l(t,e,n){function i(t,e){return l[t]=e,l[t]===e}var o,l=t.style,d=Array.isArray(n)?n:[n];return(e=a(e,t))?(v[e]=v[e]||{},d.some(function(t){return t=r(t),null==v[e][t]?i(e,t)?(o=v[e][t]=t,!0):!!m.some(function(n){var r=n+t;return!!i(e,r)&&(o=v[e][t]=r,!0)})||(v[e][t]="",!1):!!v[e][t]&&(l[e]=o=v[e][t],!0)})||(o=""),o):""}Object.defineProperty(e,"__esModule",{value:!0});var d,s,c,u=["webkit","ms","moz","o"],f=[],m=[],p={},v={};u.forEach(function(t){f.push(t),f.push(i(t)),m.push("-"+t+"-")}),s=new RegExp("^(?:"+u.join("|")+")(.)","i"),c=new RegExp("^(?:"+m.join("|")+")","i"),d={getProp:a,setValue:l},e.default=d,t.exports=e.default},function(t,e){t.exports='<svg id="plainoverlay-builtin-face-defs" xmlns="http://www.w3.org/2000/svg" version="1.1"><defs><linearGradient id="plainoverlay-builtin-face_01-grad" gradientUnits="userSpaceOnUse" x1="16" y1="2" x2="30" y2="16"><stop offset="0" stop-color="#fff" stop-opacity="0"/><stop offset="0.2" stop-color="#fff" stop-opacity="0.1"/><stop offset="1" stop-color="#fff" stop-opacity="1"/></linearGradient><clipPath id="plainoverlay-builtin-face_01-clip" clip-rule="evenodd"><path d="M-4-4H36V36H-4V-4zM16 4a12 12 0 0 1 0 24 12 12 0 0 1 0-24z"/></clipPath><g id="plainoverlay-builtin-face_01"><circle cx="16" cy="16" r="16" clip-path="url(#plainoverlay-builtin-face_01-clip)"/><path d="M16 2a14 14 0 0 1 14 14" stroke="url(\'#plainoverlay-builtin-face_01-grad\')"/></g></defs></svg>'},function(t,e){t.exports='<svg class="plainoverlay-builtin-face plainoverlay-builtin-face_01" version="1.1" viewBox="0 0 32 32"><use xlink:href="#plainoverlay-builtin-face_01"/></svg>'},function(t,e){t.exports=".plainoverlay,.plainoverlay:not(.plainoverlay-hide):not(.plainoverlay-webkit-iframe) .plainoverlay-builtin-face_01{-webkit-tap-highlight-color:transparent;transform:translateZ(0);box-shadow:0 0 1px transparent}.plainoverlay{-moz-transition-property:opacity;-o-transition-property:opacity;-webkit-transition-property:opacity;transition-property:opacity;-moz-transition-duration:.2s;-o-transition-duration:.2s;-webkit-transition-duration:.2s;transition-duration:.2s;-moz-transition-timing-function:linear;-o-transition-timing-function:linear;-webkit-transition-timing-function:linear;transition-timing-function:linear;opacity:0;position:absolute;left:0;top:0;overflow:hidden;background-color:rgba(136,136,136,.6);cursor:wait;z-index:9000}.plainoverlay.plainoverlay-doc{position:fixed;left:-200px;top:-200px;overflow:visible;padding:200px;width:100vw;height:100vh}.plainoverlay-body{width:100%;height:100%;display:-webkit-flex;display:flex;-webkit-justify-content:center;justify-content:center;-webkit-align-items:center;align-items:center}.plainoverlay.plainoverlay-doc .plainoverlay-body{width:100vw;height:100vh}.plainoverlay-show{opacity:1}.plainoverlay-hide{display:none}.plainoverlay-builtin-face{width:90%;height:90%;max-width:320px;max-height:320px}#plainoverlay-builtin-face-defs{width:0;height:0;position:fixed;left:-100px;top:-100px}#plainoverlay-builtin-face_01 circle{fill:#fff;opacity:.25}#plainoverlay-builtin-face_01 path{fill:none;stroke-width:4px;stroke-linecap:round}.plainoverlay:not(.plainoverlay-hide):not(.plainoverlay-webkit-iframe) .plainoverlay-builtin-face_01{-moz-animation-name:plainoverlay-builtin-face_01-spin;-webkit-animation-name:plainoverlay-builtin-face_01-spin;animation-name:plainoverlay-builtin-face_01-spin;-moz-animation-duration:1s;-webkit-animation-duration:1s;animation-duration:1s;-moz-animation-timing-function:linear;-webkit-animation-timing-function:linear;animation-timing-function:linear;-moz-animation-iteration-count:infinite;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite}@-moz-keyframes plainoverlay-builtin-face_01-spin{from{-moz-transform:rotate(0);transform:rotate(0)}to{-moz-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes plainoverlay-builtin-face_01-spin{from{-webkit-transform:rotate(0);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes plainoverlay-builtin-face_01-spin{from{-moz-transform:rotate(0);-ms-transform:rotate(0);-webkit-transform:rotate(0);transform:rotate(0)}to{-moz-transform:rotate(360deg);-ms-transform:rotate(360deg);-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.plainoverlay-webkit-iframe .plainoverlay-builtin-face_01{background-image:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/PjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiB2aWV3Qm94PSIwIDAgMzIgMzIiPjxzdHlsZT48IVtDREFUQVsKI3BsYWlub3ZlcmxheS1idWlsdGluLWZhY2VfMDEgY2lyY2xle2ZpbGw6I2ZmZjtvcGFjaXR5Oi4yNX0jcGxhaW5vdmVybGF5LWJ1aWx0aW4tZmFjZV8wMSBwYXRoe2ZpbGw6bm9uZTtzdHJva2Utd2lkdGg6NHB4O3N0cm9rZS1saW5lY2FwOnJvdW5kfXVzZXstbW96LWFuaW1hdGlvbi1uYW1lOnBsYWlub3ZlcmxheS1idWlsdGluLWZhY2VfMDEtc3Bpbjstd2Via2l0LWFuaW1hdGlvbi1uYW1lOnBsYWlub3ZlcmxheS1idWlsdGluLWZhY2VfMDEtc3BpbjthbmltYXRpb24tbmFtZTpwbGFpbm92ZXJsYXktYnVpbHRpbi1mYWNlXzAxLXNwaW47LW1vei1hbmltYXRpb24tZHVyYXRpb246MXM7LXdlYmtpdC1hbmltYXRpb24tZHVyYXRpb246MXM7YW5pbWF0aW9uLWR1cmF0aW9uOjFzOy1tb3otYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjpsaW5lYXI7LXdlYmtpdC1hbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOmxpbmVhcjthbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOmxpbmVhcjstbW96LWFuaW1hdGlvbi1pdGVyYXRpb24tY291bnQ6aW5maW5pdGU7LXdlYmtpdC1hbmltYXRpb24taXRlcmF0aW9uLWNvdW50OmluZmluaXRlO2FuaW1hdGlvbi1pdGVyYXRpb24tY291bnQ6aW5maW5pdGU7LXdlYmtpdC10cmFuc2Zvcm0tb3JpZ2luOmNlbnRlcjt0cmFuc2Zvcm0tb3JpZ2luOmNlbnRlcn1ALW1vei1rZXlmcmFtZXMgcGxhaW5vdmVybGF5LWJ1aWx0aW4tZmFjZV8wMS1zcGlue2Zyb217LW1vei10cmFuc2Zvcm06cm90YXRlKDApO3RyYW5zZm9ybTpyb3RhdGUoMCl9dG97LW1vei10cmFuc2Zvcm06cm90YXRlKDM2MGRlZyk7dHJhbnNmb3JtOnJvdGF0ZSgzNjBkZWcpfX1ALXdlYmtpdC1rZXlmcmFtZXMgcGxhaW5vdmVybGF5LWJ1aWx0aW4tZmFjZV8wMS1zcGlue2Zyb217LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlKDApO3RyYW5zZm9ybTpyb3RhdGUoMCl9dG97LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlKDM2MGRlZyk7dHJhbnNmb3JtOnJvdGF0ZSgzNjBkZWcpfX1Aa2V5ZnJhbWVzIHBsYWlub3ZlcmxheS1idWlsdGluLWZhY2VfMDEtc3Bpbntmcm9tey1tb3otdHJhbnNmb3JtOnJvdGF0ZSgwKTstbXMtdHJhbnNmb3JtOnJvdGF0ZSgwKTstd2Via2l0LXRyYW5zZm9ybTpyb3RhdGUoMCk7dHJhbnNmb3JtOnJvdGF0ZSgwKX10b3stbW96LXRyYW5zZm9ybTpyb3RhdGUoMzYwZGVnKTstbXMtdHJhbnNmb3JtOnJvdGF0ZSgzNjBkZWcpOy13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZSgzNjBkZWcpO3RyYW5zZm9ybTpyb3RhdGUoMzYwZGVnKX19Cl1dPjwvc3R5bGU+PGRlZnM+PGxpbmVhckdyYWRpZW50IGlkPSJwbGFpbm92ZXJsYXktYnVpbHRpbi1mYWNlXzAxLWdyYWQiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIiB4MT0iMTYiIHkxPSIyIiB4Mj0iMzAiIHkyPSIxNiI+PHN0b3Agb2Zmc2V0PSIwIiBzdG9wLWNvbG9yPSIjZmZmIiBzdG9wLW9wYWNpdHk9IjAiLz48c3RvcCBvZmZzZXQ9IjAuMiIgc3RvcC1jb2xvcj0iI2ZmZiIgc3RvcC1vcGFjaXR5PSIwLjEiLz48c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNmZmYiIHN0b3Atb3BhY2l0eT0iMSIvPjwvbGluZWFyR3JhZGllbnQ+PGNsaXBQYXRoIGlkPSJwbGFpbm92ZXJsYXktYnVpbHRpbi1mYWNlXzAxLWNsaXAiIGNsaXAtcnVsZT0iZXZlbm9kZCI+PHBhdGggZD0iTS00LTRIMzZWMzZILTRWLTR6TTE2IDRhMTIgMTIgMCAwIDEgMCAyNCAxMiAxMiAwIDAgMSAwLTI0eiIvPjwvY2xpcFBhdGg+PGcgaWQ9InBsYWlub3ZlcmxheS1idWlsdGluLWZhY2VfMDEiPjxjaXJjbGUgY3g9IjE2IiBjeT0iMTYiIHI9IjE2IiBjbGlwLXBhdGg9InVybCgjcGxhaW5vdmVybGF5LWJ1aWx0aW4tZmFjZV8wMS1jbGlwKSIvPjxwYXRoIGQ9Ik0xNiAyYTE0IDE0IDAgMCAxIDE0IDE0IiBzdHJva2U9InVybCgnI3BsYWlub3ZlcmxheS1idWlsdGluLWZhY2VfMDEtZ3JhZCcpIi8+PC9nPjwvZGVmcz48dXNlIHhsaW5rOmhyZWY9IiNwbGFpbm92ZXJsYXktYnVpbHRpbi1mYWNlXzAxIi8+PC9zdmc+);background-repeat:no-repeat;background-size:contain;background-position:center}.plainoverlay.plainoverlay-doc.plainoverlay-webkit-iframe .plainoverlay-body{height:100%}"},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t){setTimeout(function(){var e=t.parentNode,n=t.nextSibling;e.insertBefore(e.removeChild(t),n)},0)}function a(t,e,n,i){var o=t.style;return(i||Object.keys(e)).forEach(function(t){null!=e[t]&&(n&&null==n[t]&&(n[t]=o[t]),o[t]=e[t],e[t]=null)}),t}function l(t,e,n){return a(t,e,null,n)}function d(t,e){var n=t.getBoundingClientRect(),i={left:n.left,top:n.top,right:n.right,bottom:n.bottom,width:n.width,height:n.height};return e&&(i.left+=e.pageXOffset,i.right+=e.pageXOffset,i.top+=e.pageYOffset,i.bottom+=e.pageYOffset),i}function s(t,e,n,i){if(e){var o=n;return null!=i&&o.scrollTo(i,o.pageYOffset),o.pageXOffset}var r=t;return null!=i&&(r.scrollLeft=i),r.scrollLeft}function c(t,e,n,i){if(e){var o=n;return null!=i&&o.scrollTo(o.pageXOffset,i),o.pageYOffset}var r=t;return null!=i&&(r.scrollTop=i),r.scrollTop}function u(t,e,n){var i=t.elmTargetBody,o=i.getBoundingClientRect();if(!(Math.abs(o.width-e)<tt&&Math.abs(o.height-n)<tt)){var r=t.window.getComputedStyle(i,""),l=r.boxSizing,d="border-box"===l?[]:"padding-box"===l?["border"]:["border","padding"],s={border:{width:["borderLeftWidth","borderRightWidth"],height:["borderTopWidth","borderBottomWidth"]},padding:{width:["paddingLeft","paddingRight"],height:["paddingTop","paddingBottom"]}},c=["width","height"].reduce(function(t,e){return d.forEach(function(n){s[n][e].forEach(function(n){t[e]-=parseFloat(r[n])})}),t},{width:e,height:n});a(i,{width:c.width>0?c.width+"px":0,height:c.height>0?c.height+"px":0},t.savedStyleTargetBody);var u={};o=i.getBoundingClientRect(),Math.abs(o.width-e)>=tt&&(u.width=c.width-(o.width-e)+"px"),o.height!==n&&(u.height=c.height-(o.height-n)+"px"),a(i,u,t.savedStyleTargetBody)}}function f(t){var e=t.elmTarget,n=e.clientWidth,i=e.clientHeight;if(et||nt){var o=t.window.getComputedStyle(t.elmTargetBody,""),r=o.writingMode||o["writing-mode"],a=o.direction;return"tb-rl"===r||"bt-rl"===r||"tb-lr"===r||"bt-lr"===r||nt&&("ltr"===a&&("vertical-rl"===r||"vertical-lr"===r)||"rtl"===a&&("vertical-rl"===r||"vertical-lr"===r))?{width:i,height:n}:{width:n,height:i}}return{width:n,height:i}}function m(t,e){function n(e,n,i,o){try{s(e,n,t.window,i),c(e,n,t.window,o)}catch(t){}}return e?t.savedElementsScroll.some(function(t){return t.element===e&&(n(t.element,t.isDoc,t.left,t.top),!0)}):(t.savedElementsScroll.forEach(function(t){n(t.element,t.isDoc,t.left,t.top)}),!0)}function p(t){t.savedElementsAccKeys.forEach(function(t){try{t.tabIndex===!1?t.element.removeAttribute("tabindex"):null!=t.tabIndex&&(t.element.tabIndex=t.tabIndex)}catch(t){}try{t.accessKey&&(t.element.accessKey=t.accessKey)}catch(t){}})}function v(t,e){return!((!t.isDoc||e===e.ownerDocument.body||t.elmOverlay.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)&&(t.isDoc||!(e===t.elmTargetBody||t.elmTargetBody.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)))&&(e.blur?e.blur():e.ownerDocument.body.focus(),!0)}function h(t,e){var n=t.document.createRange(),i=e.rangeCount;n.selectNodeContents(t.elmTargetBody);for(var o=0;o<i;o++){var r=e.getRangeAt(o);if(r.compareBoundaryPoints(Range.START_TO_END,n)>=0&&r.compareBoundaryPoints(Range.END_TO_START,n)<=0)return!0}return!1}function b(t){var e=("getSelection"in window?t.window:t.document).getSelection();return!(!e.rangeCount||!(t.isDoc||(e.containsNode?e.containsNode(t.elmTargetBody,!0):h(t,e))))&&(e.removeAllRanges(),t.document.body.focus(),!0)}function y(t,e){var n="rl-tb"===t||"tb-rl"===t||"bt-rl"===t||"rl-bt"===t;return et&&n||nt&&(n||"rtl"===e&&("horizontal-tb"===t||"vertical-rl"===t)||"ltr"===e&&"vertical-rl"===t)}function g(t,e){var n="bt-rl"===t||"bt-lr"===t||"lr-bt"===t||"rl-bt"===t;return et&&n||nt&&(n||"rtl"===e&&("vertical-lr"===t||"vertical-rl"===t))}function w(t){var e=t.elmTarget,n=t.elmTargetBody,i=n.getBoundingClientRect(),o=f(t),r=-o.width,d=-o.height;if(a(e,{overflow:"hidden"},t.savedStyleTarget),o=f(t),r+=o.width,d+=o.height,r||d){var s=t.window.getComputedStyle(n,""),c=void 0,p=void 0;if(et||nt){var v=s.writingMode||s["writing-mode"],h=s.direction;r&&(c=y(v,h)?"marginLeft":"marginRight"),d&&(p=g(v,h)?"marginTop":"marginBottom")}else r&&(c="marginRight"),d&&(p="marginBottom");var b={};return r&&(b[c]=parseFloat(s[c])+r+"px"),d&&(b[p]=parseFloat(s[p])+d+"px"),a(n,b,t.savedStyleTargetBody),u(t,i.width,i.height),m(t,e),!0}return l(e,t.savedStyleTarget,["overflow"]),!1}function T(t,e){var n=t.elmTargetBody,i=t.window.getComputedStyle(n,""),o=t.elmOverlay,r=t.window.getComputedStyle(o,""),l=d(o,t.window),s=["Top","Right","Bottom","Left"].reduce(function(t,e){return t[e.toLowerCase()]=parseFloat(i["border"+e+"Width"]),t},{}),c={left:l.left-parseFloat(r.left),top:l.top-parseFloat(r.top)},u={left:e.left-c.left+s.left+"px",top:e.top-c.top+s.top+"px",width:e.width-s.left-s.right+"px",height:e.height-s.top-s.bottom+"px"},f=/^([\d\.]+)(px|%)$/;[{prop:"TopLeft",hBorder:"left",vBorder:"top"},{prop:"TopRight",hBorder:"right",vBorder:"top"},{prop:"BottomRight",hBorder:"right",vBorder:"bottom"},{prop:"BottomLeft",hBorder:"left",vBorder:"bottom"}].forEach(function(t){var o=G.default.getProp("border"+t.prop+"Radius",n),r=i[o].split(" "),a=r[0],l=r[1]||r[0],d=f.exec(a);a=d?"px"===d[2]?+d[1]:d[1]*e.width/100:0,d=f.exec(l),l=d?"px"===d[2]?+d[1]:d[1]*e.height/100:0,a-=s[t.hBorder],l-=s[t.vBorder],a>0&&l>0&&(u[o]=a+"px "+l+"px")}),a(o,u),t.targetBodyBBox=e}function W(t){var e=t.elmTargetBody,n=t.elmOverlay,i=[t.elmTarget];return t.isDoc?(i.push(e),Array.prototype.slice.call(e.childNodes).forEach(function(t){t.nodeType!==Node.ELEMENT_NODE||t===n||(t.classList?t.classList.contains(F):(t.getAttribute("class")||"").split(/\s/).indexOf(F)!==-1)||t.id===V||(i.push(t),Array.prototype.push.apply(i,t.querySelectorAll("*")))})):Array.prototype.push.apply(i,e.querySelectorAll("*")),i}function E(t){t.state=Q,t.options.onShow&&t.options.onShow.call(t.ins)}function x(t){t.elmOverlay.classList.add(A),l(t.elmTarget,t.savedStyleTarget),l(t.elmTargetBody,t.savedStyleTargetBody),t.savedStyleTarget={},t.savedStyleTargetBody={},p(t),t.savedElementsAccKeys=null,t.state=K,t.isDoc&&t.activeElement&&t.activeElement.focus(),t.activeElement=null,setTimeout(function(){m(t),t.savedElementsScroll=null,t.options.onHide&&t.options.onHide.call(t.ins)},0)}function B(t){function e(e,n){function i(e,n){var i=t.window.getComputedStyle(e,""),o=e.nodeName.toLowerCase();return"scroll"===i.overflow||"auto"===i.overflow||"scroll"===i.overflowX||"auto"===i.overflowX||"scroll"===i.overflowY||"auto"===i.overflowY||n&&("visible"===i.overflow||"visible"===i.overflowX||"visible"===i.overflowY)||!n&&("textarea"===o||"select"===o)}var o=[];return e.forEach(function(e,r){var a=n&&0===r;i(e,a)&&o.push({element:e,isDoc:a,left:s(e,a,t.window),top:c(e,a,t.window)})}),o}function n(t,e){var n=[];return t.forEach(function(t,i){if(!e||0!==i){var o={},r=t.tabIndex;r!==-1&&(o.element=t,o.tabIndex=!!t.hasAttribute("tabindex")&&r,t.tabIndex=-1);var a=t.accessKey;a&&(o.element=t,o.accessKey=a,t.accessKey=""),o.element&&n.push(o)}}),n}if(t.state!==U&&t.state!==Q&&(!t.options.onBeforeShow||t.options.onBeforeShow.call(t.ins)!==!1)){var i=t.elmOverlay;if(t.state===K){var o=W(t);if(i.classList.remove(A),!t.isDoc){var r=t.elmTargetBody;"inline"===t.window.getComputedStyle(r,"").display&&a(r,{display:"inline-block"},t.savedStyleTargetBody),T(t,d(r,t.window))}t.savedElementsScroll=e(o,t.isDoc),t.disabledDocBars=!1,t.isDoc&&t.savedElementsScroll.length&&t.savedElementsScroll[0].isDoc&&(t.disabledDocBars=w(t)),t.savedElementsAccKeys=n(o,t.isDoc),t.activeElement=t.document.activeElement,t.activeElement&&v(t,t.activeElement),b(t),i.offsetWidth,t.options.onPosition&&t.options.onPosition.call(t.ins)}i.classList.add(j),t.state=U}}function Z(t,e){t.state!==K&&(t.options.onBeforeHide&&t.options.onBeforeHide.call(t.ins)===!1||(t.elmOverlay.classList.remove(j),e?(t.state=K,x(t)):t.state=q))}function I(t,e){var n=t.options;if((null==e.face?void 0:e.face)!==n.face){for(var i=t.elmOverlayBody;i.firstChild;)i.removeChild(i.firstChild);if(e.face===!1)n.face=!1;else if(e.face&&e.face.nodeType===Node.ELEMENT_NODE)n.face=e.face,i.appendChild(e.face);else{var o=t.document;if(!o.getElementById(V)){var r=(new t.window.DOMParser).parseFromString(X.default,"image/svg+xml");o.body.appendChild(r.documentElement)}n.face=void 0,i.innerHTML=t.webkitIframe?'<div class="plainoverlay-builtin-face plainoverlay-builtin-face_01"></div>':_.default}}if(rt(e.duration)&&e.duration!==n.duration){var l=t.elmOverlay;n.duration=e.duration,l.style[G.default.getProp("transitionDuration",l)]=e.duration===$?"":e.duration+"ms"}ot(e.style)&&a(t.elmOverlay,e.style),["onShow","onHide","onBeforeShow","onBeforeHide","onPosition"].forEach(function(t){"function"==typeof e[t]&&(n[t]=e[t])})}function S(t,e,n,i){var o=void 0,r=void 0;if(e){var a=W(t);if(a.indexOf(e)===-1)return r;o="html"===e.nodeName.toLowerCase()}else e=t.elmTarget,o=t.isDoc;var l=null!=i&&t.savedElementsScroll&&(t.savedElementsScroll.find?t.savedElementsScroll.find(function(t){return t.element===e}):function(t){var n=void 0;return t.some(function(t){return t.element===e&&(n=t,!0)}),n}(t.savedElementsScroll));return r=(n?s:c)(e,o,t.window,i),l&&(l[n?"left":"top"]=r),r}Object.defineProperty(e,"__esModule",{value:!0});var Y=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),k=n(1),G=i(k),L=n(0),O=i(L),R=n(4),D=i(R),N=n(2),X=i(N),M=n(3),_=i(M),z="plainoverlay",C=z+"-style",F=z,P=z+"-doc",j=z+"-show",A=z+"-hide",H=z+"-body",V=z+"-builtin-face-defs",J=z+"-webkit-iframe",K=0,U=1,Q=2,q=3,$=200,tt=.5,et=!!document.uniqueID,nt="-ms-scroll-limit"in document.documentElement.style&&"-ms-ime-align"in document.documentElement.style&&!window.navigator.msPointerEnabled,it=!window.chrome&&"WebkitAppearance"in document.documentElement.style,ot=function(){var t={}.toString,e={}.hasOwnProperty.toString,n=e.call(Object);return function(i){var o=void 0,r=void 0;return i&&"[object Object]"===t.call(i)&&(!(o=Object.getPrototypeOf(i))||(r=o.hasOwnProperty("constructor")&&o.constructor)&&"function"==typeof r&&e.call(r)===n)}}(),rt=Number.isFinite||function(t){return"number"==typeof t&&window.isFinite(t)},at={},lt=0,dt=function(){function t(e,n){function i(t){var e=void 0;if(t)if(t.nodeType){if(t.nodeType===Node.DOCUMENT_NODE)e=t.documentElement;else if(t.nodeType===Node.ELEMENT_NODE){var n=t.nodeName.toLowerCase();e="body"===n?t.ownerDocument.documentElement:"iframe"===n||"frame"===n?t.contentDocument.documentElement:t}if(!e)throw new Error("This element is not accepted.")}else t===t.window&&(e=t.document.documentElement);else e=document.documentElement;return e}o(this,t);var a={ins:this,options:{face:"",duration:$},state:K,savedStyleTarget:{},savedStyleTargetBody:{}};if(Object.defineProperty(this,"_id",{value:++lt}),a._id=this._id,at[this._id]=a,1===arguments.length){if(!(a.elmTarget=i(e))){if(!ot(e))throw new Error("Invalid argument.");a.elmTarget=document.documentElement,n=e}}else{if(!(a.elmTarget=i(e)))throw new Error("This target is not accepted.");if(n&&!ot(n))throw new Error("Invalid options.")}a.isDoc="html"===a.elmTarget.nodeName.toLowerCase();var s=a.document=a.elmTarget.ownerDocument;a.window=s.defaultView;var c=a.elmTargetBody=a.isDoc?s.body:a.elmTarget;if(!s.getElementById(C)){var u=s.getElementsByTagName("head")[0]||s.documentElement,f=u.insertBefore(s.createElement("style"),u.firstChild);f.type="text/css",f.id=C,f.textContent=D.default,(et||nt)&&r(f)}var p=a.elmOverlay=s.createElement("div");et?(p.classList.add(F),p.classList.add(A)):p.classList.add(F,A),a.isDoc&&p.classList.add(P),it&&a.window.frameElement&&(a.webkitIframe=!0,p.classList.add(J)),function(t){["transitionend","webkitTransitionEnd","oTransitionEnd","otransitionend"].forEach(function(e){p.addEventListener(e,t,!0)})}(function(t){t.target===p&&"opacity"===t.propertyName&&(a.state===U?E(a):a.state===q&&x(a))}),(a.isDoc?a.window:c).addEventListener("scroll",function(t){var e=t.target;a.state!==K&&m(a,!a.isDoc||e!==a.window&&e!==a.document&&e!==a.elmTargetBody?e:a.elmTarget)&&(t.preventDefault(),t.stopImmediatePropagation())},!0),c.addEventListener("focus",function(t){a.state!==K&&v(a,t.target)&&(t.preventDefault(),t.stopImmediatePropagation())},!0),function(t){["keyup","mouseup"].forEach(function(e){c.addEventListener(e,t,!0)})}(function(t){a.state!==K&&b(a)&&(t.preventDefault(),t.stopImmediatePropagation())}),a.resizing=!1,a.window.addEventListener("resize",O.default.add(function(){if(!a.resizing){if(a.resizing=!0,a.state!==K){if(a.isDoc)a.savedElementsScroll.length&&a.savedElementsScroll[0].isDoc&&(a.disabledDocBars&&(l(a.elmTarget,a.savedStyleTarget,["overflow"]),l(c,a.savedStyleTargetBody,["marginLeft","marginRight","marginTop","marginBottom","width","height"])),a.disabledDocBars=w(a));else{var t=d(c,a.window),e=a.targetBodyBBox;t.left===e.left&&t.top===e.top&&t.width===e.width&&t.height===e.height||T(a,t)}a.options.onPosition&&a.options.onPosition.call(a.ins)}a.resizing=!1}}),!0),p.addEventListener("touchmove",function(t){a.state!==K&&(t.preventDefault(),t.stopImmediatePropagation())},!0),(a.elmOverlayBody=p.appendChild(s.createElement("div"))).className=H,s.body.appendChild(p),I(a,n||{})}return Y(t,[{key:"setOptions",value:function(t){return ot(t)&&I(at[this._id],t),this}},{key:"show",value:function(t){return this.setOptions(t),B(at[this._id]),this}},{key:"hide",value:function(t){return Z(at[this._id],t),this}},{key:"scrollLeft",value:function(t,e){return S(at[this._id],e,!0,t)}},{key:"scrollTop",value:function(t,e){return S(at[this._id],e,!1,t)}},{key:"position",value:function(){var t=at[this._id];return t.state!==K&&(t.isDoc||T(t,d(t.elmTargetBody,t.window)),t.options.onPosition&&t.options.onPosition.call(t.ins)),this}},{key:"face",get:function(){return at[this._id].options.face},set:function(t){I(at[this._id],{face:t})}},{key:"duration",get:function(){return at[this._id].options.duration},set:function(t){I(at[this._id],{duration:t})}},{key:"onShow",get:function(){return at[this._id].options.onShow},set:function(t){I(at[this._id],{onShow:t})}},{key:"onHide",get:function(){return at[this._id].options.onHide},set:function(t){I(at[this._id],{onHide:t})}},{key:"onBeforeShow",get:function(){return at[this._id].options.onBeforeShow},set:function(t){I(at[this._id],{onBeforeShow:t})}},{key:"onBeforeHide",get:function(){return at[this._id].options.onBeforeHide},set:function(t){I(at[this._id],{onBeforeHide:t})}},{key:"onPosition",get:function(){return at[this._id].options.onPosition},set:function(t){I(at[this._id],{onPosition:t})}},{key:"state",get:function(){return at[this._id].state}},{key:"style",get:function(){return at[this._id].elmOverlay.style}}],[{key:"show",value:function(e,n){return new t(e,n).show()}},{key:"STATE_HIDDEN",get:function(){return K}},{key:"STATE_SHOWING",get:function(){return U}},{key:"STATE_SHOWN",get:function(){return Q}},{key:"STATE_HIDING",get:function(){return q}}]),t}();e.default=dt,t.exports=e.default}]);