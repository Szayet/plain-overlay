@import "compass";
@import "common";

$media: "";
%anim-init#{$media} { @include anim-init; }

$app_id: plainoverlay;
$app-doc: #{$app_id}-doc;
$app-show: #{$app_id}-show;
$app-hide: #{$app_id}-hide;
$app-body: #{$app_id}-body;

$app-face: #{$app_id}-builtin-face;

$duration: 2500ms; // COPY: plain-overlay.js
$overlay-bg: rgba(136, 136, 136, 0.6);
$target_margin: 200px;

.#{$app_id} {
  @extend %anim-init#{$media};
  @include transition-property(opacity);
  @include transition-duration($duration);
  @include transition-timing-function(linear);
  opacity: 0;

  position: absolute;
  left: 0;
  top: 0;
  overflow: hidden;

  background-color: $overlay-bg;
  cursor: wait;
  z-index: 9000;

  &.#{$app-doc} {
    position: fixed;
    left: -$target_margin;
    top: -$target_margin;
    overflow: visible;
    padding: $target_margin; // For mobile browsers
  }
}

.#{$app-body} {
  width: 100%;
  height: 100%;

  .#{$app_id}.#{$app-doc} & {
    width: 100vw;
    height: 100vh;
  }

  @include display-flex;
  @include justify-content(center);
  @include align-items(center);
}

.#{$app-show} {
  opacity: 1;
}

.#{$app-hide} {
  display: none;
}

##{$app-face}-defs {
  width: 0;
  height: 0;
  position: absolute;
  left: -100px;
  top: -100px;
}

.#{$app-face} {
  width: 90%;
  height: 90%;
  max-width: 320px;
  max-height: 320px;
}
